!function(lt){lt.floatThead=lt.floatThead||{},lt.floatThead.defaults={cellTag:null,headerCellSelector:"tr:first>th:visible",zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(){return lt([])},getSizingRow:function(t){return t.find("tbody tr:visible:first>*")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,debug:!1};var rt=window._,at=function(){for(var t=3,e=document.createElement("b"),o=e.all||[];e.innerHTML="\x3c!--[if gt IE "+(t=1+t)+"]><i><![endif]--\x3e",o[0];);return 4<t?t:document.documentMode}(),it=null,st=lt(window),dt=0;lt.fn.floatThead=function(t){if(t=t||{},!rt&&!(rt=window._||lt.floatThead._))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(at<8)return this;if(null==it&&((it=function(){if(at)return!1;var t=lt("<table><colgroup><col></colgroup><tbody><tr><td style='width:10px'></td></tbody></table>");lt("body").append(t);var e=t.find("col").width();return t.remove(),0==e}())&&(document.createElement("fthtr"),document.createElement("fthtd"),document.createElement("fthfoot"))),rt.isString(t)){var e=t,o=this;return this.filter("table").each(function(){var t=lt(this).data("floatThead-attached");t&&rt.isFunction(t[e])&&(void 0!==(t=t[e]())&&(o=t))}),o}var nt=lt.extend({},lt.floatThead.defaults||{},t);return lt.each(t,function(t){t in lt.floatThead.defaults||!nt.debug||(t="jQuery.floatThead: used ["+t+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+rt.keys(lt.floatThead.defaults).join(", "),window.console&&window.console&&window.console.log&&window.console.log(t))}),this.filter(":not(."+nt.floatTableClass+")").each(function(){function t(t){return t+".fth-"+i+".floatTHead"}function s(){var t=0;d.find("tr:visible").each(function(){t+=lt(this).outerHeight(!0)}),Q.outerHeight(t),_.outerHeight(t)}function e(){b=(rt.isFunction(nt.scrollingTop)?nt.scrollingTop(w):nt.scrollingTop)||0,T=(rt.isFunction(nt.scrollingBottom)?nt.scrollingBottom(w):nt.scrollingBottom)||0}function g(){var t;f||(f=!0,C&&(t=w.width(),E.width()<t&&w.css("minWidth",t)),w.css(A),H.css(A),H.append(d),c.before(O),s())}function v(){f&&(f=!1,C&&w.width(G),O.detach(),w.prepend(d),w.css(P),H.css(P))}function o(){var a,i=function(){var t,e;if(D?e=I.find("col").length:(t=null==nt.cellTag&&nt.headerCellSelector?nt.headerCellSelector:"tr:first>"+nt.cellTag,t=d.find(t),e=0,t.each(function(){e+=parseInt(lt(this).attr("colspan")||1,10)})),e!=h){h=e;for(var o=[],n=[],l=[],r=0;r<e;r++)o.push('<th class="floatThead-col"/>'),n.push("<col/>"),l.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");n=n.join(""),o=o.join(""),it&&(l=l.join(""),q.html(l),k=q.find("fthtd")),Q.html(o),_=Q.find("th"),D||I.html(n),B=I.find("col"),R.html(n),M=R.find("col")}return e}();return function(){var t,e,o,n,l=(t=w,e=B,o=k,n=at,it?o:n?nt.getSizingRow(t,e,o):e);if(l.length==i&&0<i){if(!D)for(a=0;a<i;a++)B.eq(a).css("width","");v();var r=[];for(a=0;a<i;a++)r[a]=l.get(a).offsetWidth;for(a=0;a<i;a++)M.eq(a).width(r[a]),B.eq(a).width(r[a]);g()}else H.append(d),w.css(P),H.css(P),s()}}function n(t){var e=m.css("border-"+t+"-width"),t=0;return t=e&&~e.indexOf("px")?parseInt(e,10):t}function l(){var l,t,r=m.scrollTop(),a=0,i=j?x.outerHeight(!0):0,s=S?i:-i,d=F.height(),c=w.offset(),f=0;z?(t=m.offset(),a=c.top-t.top+r,j&&S&&(a+=i),a-=n("top"),f=n("left")):l=c.top-b-d+T+y.horizontal;var u=st.scrollTop(),h=st.scrollLeft(),p=m.scrollLeft(),r=m.scrollTop();return function(t){if("windowScroll"==t?(u=st.scrollTop(),h=st.scrollLeft()):"containerScroll"==t?(r=m.scrollTop(),p=m.scrollLeft()):"init"!=t&&(u=st.scrollTop(),h=st.scrollLeft(),r=m.scrollTop(),p=m.scrollLeft()),!it||!(u<0||h<0)){if(W)C!=(n="windowScrollDone"==t)&&(C=n,F.css({position:C?"absolute":"fixed"}));else if("windowScrollDone"==t)return null;c=w.offset(),j&&S&&(c.top+=i);var e,o,t=w.outerHeight();return z&&C?(o=r<=a?0<(e=a-r)?e:0:L?0:r,e=f):!z&&C?(l+t+s<u?o=t-d+s:c.top>u+b?(o=0,v()):(o=b+u-c.top+a+(S?i:0),g()),e=0):z&&!C?(r<a||t<r-a?(o=c.top-u,v()):(o=c.top+r-u-a,g()),e=c.left+p-h):z||C||(l+t+s<u?o=t+b-u+l+s:c.top>u+b?(o=c.top-u,g()):o=b,e=c.left-h),{top:o,left:e}}var n}}function r(){var n=null,l=null,r=null;return function(t,e,o){null==t||n==t.top&&l==t.left||(F.css({top:t.top,left:t.left}),n=t.top,l=t.left),e&&(t=w.outerWidth(),e=m.width()||t,F.width(e-y.vertical),z?(e=100*t/(e-y.vertical),H.css("width",e+"%")):H.outerWidth(t)),o&&s();o=m.scrollLeft();C&&r==o||(F.scrollLeft(o),r=o)}}function a(){var t,e,o,n,l;m.length&&(t=m.width(),e=m.height(),o=w.height(),l=t<(n=w.width())?u:0,y.horizontal=t-(e<o?u:0)<n?u:0,y.vertical=e-l<o?u:0)}var i=dt,w=lt(this);if(w.data("floatThead-attached"))return!0;if(!w.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var d=w.find("thead:first"),c=w.find("tbody:first");if(0==d.length)throw new Error("jQuery.floatThead must be run on a table that contains a <thead> element");var b,T,f=!1,y={vertical:0,horizontal:0},u=function(){var t=lt('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');lt("body").append(t);var e=t.innerWidth(),o=lt("div",t).innerWidth();return t.remove(),e-o}(),h=0,m=nt.scrollContainer(w)||lt([]),C=nt.useAbsolutePositioning;null==C&&(C=nt.scrollContainer(w).length);var S,x=w.find("caption"),j=1==x.length;j&&(S="top"===(x.css("caption-side")||x.attr("align")||"top"));var p=lt('<fthfoot style="display:table-footer-group;"/>'),z=0<m.length,L=!1,E=lt([]),W=at<=9&&!z&&C,H=lt("<table/>"),R=lt("<colgroup/>"),I=w.find("colgroup:first"),D=!0;0==I.length&&(I=lt("<colgroup/>"),D=!1);var q=lt('<fthrow style="display:table-row;height:0;"/>'),F=lt('<div style="overflow: hidden;"></div>'),O=lt("<thead/>"),Q=lt('<tr class="size-row"/>'),_=lt([]),B=lt([]),M=lt([]),k=lt([]);O.append(Q),w.prepend(I),it&&(p.append(q),w.append(p)),H.append(R),F.append(H),nt.copyTableClass&&H.attr("class",w.attr("class")),H.attr({cellpadding:w.attr("cellpadding"),cellspacing:w.attr("cellspacing"),border:w.attr("border")}),H.css({borderCollapse:w.css("borderCollapse"),border:w.css("border")}),H.addClass(nt.floatTableClass).css("margin",0),C?(tt=function(t,e){var o=t.css("position");return("relative"==o||"absolute"==o)&&!e||(e={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")},F.css(e),t=t.wrap("<div class='"+nt.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),L=!0),t},z?(E=tt(m,!0)).append(F):(E=tt(w),w.after(F))):w.after(F),F.css({position:C?"absolute":"fixed",marginTop:0,top:C?0:"auto",zIndex:nt.zIndex}),F.addClass(nt.floatContainerClass),e();var A={"table-layout":"fixed"},P={"table-layout":w.css("tableLayout")||"auto"},G=w[0].style.width||"";a();var N=function(){o()()};N();var V=l(),Y=r();Y(V("init"),!0);function $(){Y(V("windowScroll"),!1),et()}function J(){Y(V("containerScroll"),!1)}var K,U,X,Z,tt,et=rt.debounce(function(){Y(V("windowScrollDone"),!1)},300),ot=rt.debounce(function(){a(),e(),N(),V=l(),Y(V("reflow"),!0)},1);z?C?m.on(t("scroll"),J):(m.on(t("scroll"),J),st.on(t("scroll"),$)):st.on(t("scroll"),$),st.on(t("load"),ot),K=nt.debounceResizeMs,U=t("resize"),X=function(){e(),a(),N(),V=l(),(Y=r())(V("resize"),!0,!0)},8==at?(Z=st.width(),tt=rt.debounce(function(){var t=st.width();Z!=t&&(Z=t,X())},K),st.on(U,tt)):st.on(U,rt.debounce(X,K)),w.on("reflow",ot),function(t){if(t.dataTableSettings)for(var e=0;e<t.dataTableSettings.length;e++){var o=t.dataTableSettings[e].nTable;if(t[0]==o)return 1}}(w)&&w.on("filter",ot).on("sort",ot).on("page",ot),w.data("floatThead-attached",{destroy:function(){var t=".fth-"+i;v(),w.css(P),I.remove(),it&&p.remove(),O.parent().length&&O.replaceWith(d),w.off("reflow"),m.off(t),L&&(m.length?m:w).unwrap(),C&&w.css("minWidth",""),F.remove(),w.data("floatThead-attached",!1),st.off(t)},reflow:function(){ot()},setHeaderHeight:function(){s()},getFloatContainer:function(){return F},getRowGroups:function(){return f?F.find("thead").add(w.find("tbody,tfoot")):w.find("thead,tbody,tfoot")}}),dt++}),this}}(jQuery),function(t){var n,o;t.floatThead=t.floatThead||{},t.floatThead._=window._||(n={},o=Object.prototype.hasOwnProperty,n.has=function(t,e){return o.call(t,e)},n.keys=function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e,o=[];for(e in t)n.has(t,e)&&o.push(e);return o},t.each(["Arguments","Function","String","Number","Date","RegExp"],function(){var e=this;n["is"+e]=function(t){return Object.prototype.toString.call(t)=="[object "+e+"]"}}),n.debounce=function(o,n,l){var r,a,i,s,d;return function(){i=this,a=arguments,s=new Date;var e=function(){var t=new Date-s;t<n?r=setTimeout(e,n-t):(r=null,l||(d=o.apply(i,a)))},t=l&&!r;return r=r||setTimeout(e,n),d=t?o.apply(i,a):d}},n)}(jQuery);