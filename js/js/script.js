var dropdownElementList=[].slice.call(document.querySelectorAll(".dropdown-toggle")),dropdownList=dropdownElementList.map(function(e){return new bootstrap.Dropdown(e)});closedElementsHandler={closedElementsList:null,initialize:function(){this.closedElementsList=this.getLocalStorage();var n=!1;this.closedElementsList.forEach((e,t)=>{e=document.getElementById(e);e?e.remove():(this.closedElementsList.splice(t,1),n=!0)}),n&&closedElementsHandler.updateLocalStorage()},getLocalStorage:function(){var e=localStorage.getItem("closedElements");return e?e.split(";"):[]},updateLocalStorage:function(){localStorage.setItem("closedElements",this.closedElementsList.join(";"))},addElement:function(e){var t=document.getElementById(e);if(!t)return!1;this.closedElementsList.push(e),this.updateLocalStorage(),t.remove()},removeElement:function(e){e=this.closedElementsList.indexOf(e);if(-1===e)return!1;this.closedElementsList.splice(e,1),this.updateLocalStorage()},reset(){this.closedElementsList=[],localStorage.removeItem("closedElements")}},closedElementsHandler.initialize();var closeElementList=document.querySelectorAll(".custom-close[data-close-target]");closeElementList.forEach(e=>{e.addEventListener("click",function(e){closedElementsHandler.addElement(this.dataset.closeTarget)})}),settingsHandler={},settingsHandler.bgAnimation={bgAnimationContainer:document.getElementById("bgAnimation"),bgAnimationToggler:document.getElementById("toggleBgAnimation"),set:function(e){e?(this.bgAnimationContainer.classList.remove("pause"),localStorage.removeItem("bgAnimation")):(this.bgAnimationContainer.classList.add("pause"),localStorage.setItem("bgAnimation","false"))},initialize:function(){var e=null===(e=localStorage.getItem("bgAnimation"))||"true"===e;this.bgAnimationToggler.checked=e,this.set(e),this.bgAnimationToggler.addEventListener("change",function(e){settingsHandler.bgAnimation.set(this.checked)})},reset:function(){this.set(!0),localStorage.removeItem("bgAnimation")}},settingsHandler.bgAnimation.initialize(),autoJoinServer={initialize:function(){document.querySelectorAll(".server-banner").forEach(e=>{e.addEventListener("click",this.clickHandler)}),setInterval(this.check.bind(this),12e3)},clickHandler:function(t){if(t.shiftKey){t.preventDefault(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{"denied"===e&&alert("Notice that joining is delayed by 10 seconds as joining too early is unreliable")});let e;e=this.classList.toggle("watch")?"./sound/sound_machines_terminal_prompt_confirm.ogg":"./sound/sound_machines_terminal_error.ogg",e=new Audio(e),e.volume=.2,e.play()}},check:function(){let n=document.querySelector(".server-banner.watch .statuslobby");if(n){this.reset();let e=new Audio("./sound/sound_effects_ghost2.ogg");e.volume=.2,e.play();let t=n.querySelector(".gamebanneraddrline").innerText.match(/^.*?(?=\.)/)[0];t=t.charAt(0).toUpperCase()+t.slice(1),"Notification"in window&&"granted"===Notification.permission&&new Notification("Joining "+t,{icon:"img/favicon.png",body:"New game found. Connecting in 10 seconds!"}),setTimeout(()=>{n.parentElement.click()},1e4)}},reset:function(){document.querySelectorAll(".server-banner.watch").forEach(e=>{e.classList.remove("watch")})}},autoJoinServer.initialize(),document.getElementById("resetLocalStorage").addEventListener("click",function(e){closedElementsHandler.reset(),settingsHandler.bgAnimation.reset(),this.disabled=!0,this.classList.remove("btn-secondary"),this.classList.add("btn-success"),setTimeout(()=>{window.location.reload(!1)},50)});